듄 3번 가까운 유닛을 향해 이동 구현 설명
사전 설명
난 유닛과 건축물을 링크드리스트로 구현했고 유닛의 구조체와 건축물의 구조체에 유닛인지 아닌지를 구별하는 is_it_structure_flag를 만들었다 /0이면 건물 1이면 유닛
그리고 각구조체에 그 유닛을 대표하는 문자를 넣어줬다. 교수님이 만들어주신 repr와 같은 역할 2차원 배열에는 'H', 'W'와 같은 문자가 저장됨
각 구조체에는 목적지, 출발지, 현재위치를 저장하는 POSITION형이 있다.

우선 교수님께서 만들어주신 sample_object_move()와 다음 움직임을 계산해서 리턴하는 sample_obj_next_position()을 수정해서  
total_object_move()와 total_object_next_position(node* curnode)함수를 만들었다 각각의 역할은 교수님이 만들어주신 샘플과 같다.
유닛의 움직임은 교수님의 것과 같다. 하지만 내가 만든 함수는 각 유닛의 구조체속 목적지와 출발지, 현재위치를 통해 원하는 곳으로 이동이 가능하고 모든 유닛, 명령에 적용 가능하다.

먼저 total_object_move()에서 링크드리스트의 순회기능을 이용해서 모든 노드의 주소를 total_object_next_position에 보내주고  total_object_next_position은 다음 움직임을 계산해서 반환해준다
이제 total_object_next_position함수를 설명할텐데 웜의 이동 구현 기능이 여기 들어있다. 모든 유닛의 움직임을 계산하는 함수이니 웜의 이동 계산도 여기서 이뤄진다.
웜의 목적지는 가장 동족 웜을 제외한 가장 가까운 유닛이다. 그러니 who_is_the_closest(curnode->pos);함수를 만들어준다 이함수는 total_object_next_position 안에서 if(curnode->repr == 'W')와 같을때 발동해서 웜의 주소를 매개변수로 받고 함수로 들어간다.
이함수의 기능은 해당 웜의 가장 가까운 유닛의 주소를 반환하는거다. who_is_the_closest안에선 또 순회가 일어나는데 목적은 웜의 위치와 다른 유닛간의 거리를 계산 하기위해서다.
거리계산 함수도 만들었는데 distance(POSITION, POSITION)이다. 하나는 현재 웜의 위치 또하나는 모든 유닛의 위치가 들어가 서로 비교후 가장 가까운 유닛의 주소를 반환한다.
그런데 이 같은 연산은 오직 유닛, 웜이 아닐때만 발동해야 하기때문에 IF문으로 다음과 같은 조건을 달아준다. if (curnode->repr != 'W' && curnode->is_it_structure_flag == 1){}
이렇게 하면 가장 가까운 유닛의 구조체의 주소를 알게되고 그 구조체속 현재위치를 웜의 목적지안에 넣어준다. 그러면 웜의 목적지는 가장 가까운 유닛으로 설정된다. 그리고 이게 게임이 한번 돌때마다 반복해서 연산하기에 매끄럽게된다.
이 과정을 통해 웜의 목적지를 설정할수있고 목적지까지의 이동은 교수님의 코드를 그대로 이용했다. 교수님의 샘플코드의 움직임은 왕복인데 목적지에 도착할때마다 목적지에 출발지가 들어가서 왕복이 되는데, 목적지에 도착하면 리턴하도록 해 편도 이동 기능을 만들었다.
